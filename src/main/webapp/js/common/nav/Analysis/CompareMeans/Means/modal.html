<div class="modal fade in" id="Means" tabindex="-1" role="dialog"
     aria-labelledby="Oneway_ANOVA_Label" style="display: block;">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">×</span></button>
                <h4 class="modal-title" id="Oneway_ANOVA_Label" data-i18n-type="page"
                    data-i18n-tag="modal_title_means">均值</h4>
            </div>
            <div class="modal-body">
                <p data-i18n-type="page"
                   data-i18n-tag="label_dep_var_list">因变量列表</p>

                <div data-config-group data-group-name="dependentVariable" data-config-val-flag=".active"
                     data-variable-select-rule="normal">

                </div>
                <hr/>
                <p data-i18n-type="page"
                   data-i18n-tag="label_indep_var_list">自变量列表</p>

                <div data-config-group data-group-name="independentVariable" data-config-val-flag=".active"
                     data-variable-select-rule="normal">

                </div>
                <div data-panel="config">
                    <fieldset class="algorithm-config-zone">
                        <legend data-i18n-tag="options" data-i18n-type="page">选项</legend>
                        <span data-i18n-type="page" data-i18n-tag="label_statistics">统计量</span>

                        <div data-config-group data-group-name="algorithmConfigs" data-config-val-flag=":checked">
                            <div class="checkbox-inline">
                                <label>
                                    <input name="algorithmConfigs" type="checkbox" value="max" checked>
                                    <span data-i18n-type="algorithm" data-i18n-tag="max">最大值</span>
                                </label>
                            </div>
                            <div class="checkbox-inline">
                                <label>
                                    <input name="algorithmConfigs" type="checkbox" value="min" checked>
                                    <span data-i18n-type="algorithm" data-i18n-tag="min">最小值</span>
                                </label>
                            </div>
                            <div class="checkbox-inline">
                                <label>
                                    <input name="algorithmConfigs" type="checkbox" value="arithmeticMean" checked>
                                    <span data-i18n-type="algorithm" data-i18n-tag="arithmeticMean">均值</span>
                                </label>
                            </div>
                            <div class="checkbox-inline">
                                <label>
                                    <input name="algorithmConfigs" type="checkbox" value="variance" checked>
                                    <span data-i18n-type="algorithm" data-i18n-tag="variance">方差</span>
                                </label>
                            </div>
                            <div class="checkbox-inline">
                                <label>
                                    <input name="algorithmConfigs" type="checkbox" value="standardDeviation" checked>
                                    <span data-i18n-type="algorithm" data-i18n-tag="standardDeviation">标准偏差</span>
                                </label>
                            </div>
                            <div class="checkbox-inline">
                                <label>
                                    <input name="algorithmConfigs" type="checkbox" value="total" checked>
                                    <span data-i18n-type="algorithm" data-i18n-tag="total">总数</span>
                                </label>
                            </div>
                            <div class="checkbox-inline">
                                <label>
                                    <input name="algorithmConfigs" type="checkbox" value="median" checked>
                                    <span data-i18n-type="algorithm" data-i18n-tag="median">中位数</span>
                                </label>
                            </div>
                            <div class="checkbox-inline">
                                <label>
                                    <input name="algorithmConfigs" type="checkbox" value="skewness" checked>
                                    <span data-i18n-type="algorithm" data-i18n-tag="skewness">偏度</span>
                                </label>
                            </div>
                            <div class="checkbox-inline">
                                <label>
                                    <input name="algorithmConfigs" type="checkbox" value="kurtosis" checked>
                                    <span data-i18n-type="algorithm" data-i18n-tag="kurtosis">峰度</span>
                                </label>
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default variable-config" data-i18n-type="page"
                        data-i18n-tag="options">选项
                </button>
                <button type="button" class="btn btn-primary variable-submit" data-btn-type="Means"
                        data-i18n-type="page" data-i18n-tag="btn_next">确定
                </button>
            </div>
        </div>
    </div>
</div>
<script>
    $(function () {
        var variableList = JSON.parse(sessionStorage.getItem('PRIVATE_VARIABLE_LIST'));

        variableList.map(function (variable, i) {
            var depVariableWrapper = $('<span>');
            var facVariableWrapper = $('<span>');
            $(depVariableWrapper).addClass('variable-wrapper')
                    .attr('name', 'dependentVariable')
                    .attr('data-config', JSON.stringify(variable))
                    .attr('data-toggle-select', i)
                    .val(variable)
                    .text(variable.varietyName);

            $(facVariableWrapper).addClass('variable-wrapper')
                    .attr('name', 'independentVariable')
                    .attr('data-config', JSON.stringify(variable))
                    .attr('data-toggle-select', i)
                    .val(variable)
                    .text(variable.varietyName);

            $('[data-group-name=dependentVariable]').append(depVariableWrapper);
            $('[data-group-name=independentVariable]').append(facVariableWrapper);
        });

        $('[data-group-name=independentVariable]').on('click', '.variable-wrapper', function (e) {
            //可多选，但上下不能同时选中
            //从无到选中
            if (!$(e.target).hasClass('active') && !$(e.target).attr('disabled')) {
                $('[data-group-name=dependentVariable]').find('[data-toggle-select=' + $(e.target).attr('data-toggle-select') + ']')
                        .attr('disabled', true);
            } else {
                //从选中到无
                $('[data-group-name=dependentVariable]').find('[data-toggle-select=' + $(e.target).attr('data-toggle-select') + ']')
                        .attr('disabled', false);
            }

        });

        $('[data-group-name=dependentVariable]').on('click', '.variable-wrapper', function (e) {
            //可多选，但上下不能同时选中
            //从无到选中
            if (!$(e.target).hasClass('active') && !$(e.target).attr('disabled')) {
                $('[data-group-name=independentVariable]').find('[data-toggle-select=' + $(e.target).attr('data-toggle-select') + ']')
                        .attr('disabled', true);
            } else {
                //从选中到无
                $('[data-group-name=independentVariable]').find('[data-toggle-select=' + $(e.target).attr('data-toggle-select') + ']')
                        .attr('disabled', false);
            }
        });
    })
</script>