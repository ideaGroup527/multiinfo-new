<html>
<head>
    <title></title>
    <script src="js/home/echarts.min.js"></script>
</head>
<body>
<div id="main" style="width: 1000px;height:800px;margin:0 auto;"></div>

<script type="text/javascript">
    var data = {
        "ret_code": "",
        "ret_msg": "",
        "ret_err": "",
        "resDataMap": {
            "湿度": {
                "resultData": {
                    "max": 33.3,
                    "min": 6.4,
                    "arithmeticMean": 19.349999999999998,
                    "variance": 122.53666666666663,
                    "standardDeviation": 11.069628117812568,
                    "total": 77.4,
                    "skewness": 0.26318984170841914,
                    "kurtosis": 1.1547022499972481,
                    "count": 4,
                    "percentiles": [
                        {
                            "param": 25,
                            "data": 9.125
                        },
                        {
                            "param": 50,
                            "data": 18.85
                        },
                        {
                            "param": 70,
                            "data": 26.849999999999998
                        }
                    ]
                },
                "dataArr": [
                    20.4,
                    17.3,
                    33.3,
                    6.4
                ],
                "varietyName": null,
                "typeDes": null,
                "type": null,
                "typeFormat": null
            },
            "降水": {
                "resultData": {
                    "max": 200,
                    "min": 100,
                    "arithmeticMean": 150,
                    "variance": 1666.6666666666667,
                    "standardDeviation": 40.824829046386306,
                    "total": 600,
                    "skewness": 0,
                    "kurtosis": 1.4999999999999947,
                    "count": 4,
                    "percentiles": [
                        {
                            "param": 25,
                            "data": 112.5
                        },
                        {
                            "param": 50,
                            "data": 150
                        },
                        {
                            "param": 70,
                            "data": 175
                        }
                    ]
                },
                "dataArr": [
                    100,
                    200,
                    150,
                    150
                ],
                "varietyName": null,
                "typeDes": null,
                "type": null,
                "typeFormat": null
            }
        },
        "resultType": null,
        "reportTitle": null
    }
</script>
<script type="text/javascript">

    //打印散点图
    var Mmx = {
        data: null,//散点json
        opt: null,//配置json
        content: "",//散点图容器的id

        init: function (data, opt, content) {
            //init数据
            this.data = data;
            this.opt = opt;
            this.content = content;

            //转换格式
            var depend = this.data.dependentVariable.varietyName,
                    independent = this.data.independentVariable[0].varietyName,
            //TODO 这里暂时先写为一个因变量的情况
                    dataAll = [];
            for (var i = 0; i < this.data.resDataMap[depend].length; i++) {
                dataAll.push([this.data.resDataMap[depend][i], this.data.resDataMap[independent][i]]);
            }
            this.draw(dataAll);

        },
        draw: function (dataAll) {
            var _this = this;
            //画图
            option = {
                title: [
                    {
                        text: 'Michelson-Morley Experiment',
                        left: 'center',
                    },
                    {
                        text: 'upper: Q3 + 1.5 * IRQ \nlower: Q1 - 1.5 * IRQ',
                        borderColor: '#999',
                        borderWidth: 1,
                        textStyle: {
                            fontSize: 14
                        },
                        left: '10%',
                        top: '90%'
                    }
                ],
                legend: {
                    data: ['line', 'line2', 'line3']
                },
                tooltip: {
                    trigger: 'item',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                grid: {
                    left: '10%',
                    right: '10%',
                    bottom: '15%'
                },
                xAxis: {
                    type: 'category',
                    data: data.axisData,
                    boundaryGap: true,
                    nameGap: 30,
                    splitArea: {
                        show: false
                    },
                    axisLabel: {
                        formatter: 'expr {value}'
                    },
                    splitLine: {
                        show: false
                    }
                },
                yAxis: {
                    type: 'value',
                    name: 'km/s minus 299,000',
                    splitArea: {
                        show: true
                    }
                },
                series: [
                    {
                        name: 'boxplot',
                        type: 'boxplot',
                        data: data.boxData,
                        tooltip: {
                            formatter: function (param) {
                                return [
                                    'Experiment ' + param.name + ': ',
                                    'upper: ' + param.data[0],
                                    'Q1: ' + param.data[1],
                                    'median: ' + param.data[2],
                                    'Q3: ' + param.data[3],
                                    'lower: ' + param.data[4]
                                ].join('<br/>')
                            }
                        }
                    },
                    {
                        name: 'outlier',
                        type: 'scatter',
                        data: data.outliers
                    }
                ]
            };

            this.render(option);
        },
        render: function (option) {
            //渲染到页面
            var myChart = echarts.init(document.getElementById(this.content)); //这里dom选择需要为js对象
            myChart.setOption(option);
        }
    }

    Scatter.init(data, opt, "main");

</script>
</body>
</html>